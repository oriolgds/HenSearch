---
import StatusLayout from "../layouts/StatusLayout.astro";
---

<StatusLayout
  ><div class="h-screen flex items-center justify-center text-start">
    <div class="text-start">
      <h1 class="text-8xl font-bold">Status</h1>
      <p class="text-gray-600">
        Esta pagina muestra el estado del servidor, cuando ha estado caido y si
        esta activo actualmente
      </p>
      <canvas id="myChart"></canvas>
    </div>
  </div></StatusLayout
>
<script is:inline src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script is:inline>
  const ctx = document.getElementById("myChart");
  async function showChart() {
    await fetch("/status.json")
      .then((response) => {
        console.log(response.json());
      })
      .then((data) => {
        console.log(data);
      });
  }
  showChart();
  new Chart(ctx, {
    type: "bar",
    data: {
      labels: ["Red", "Blue", "Yellow", "Green", "Purple", "Orange"],
      datasets: [
        {
          label: "# of Votes",
          data: [12, 19, 3, 5, 2, 3],
          borderWidth: 1,
        },
      ],
    },
    options: {
      scales: {
        y: {
          beginAtZero: true,
        },
      },
    },
  });
</script>
